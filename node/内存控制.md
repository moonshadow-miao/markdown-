#内存控制
###v8的内存限制
node中通过javascript使用内存(64位系统约为1.4GB,32位系统下约为0.7GB). 造成这个问题的主要原因是node基于v8构建的,v8的这套内存管理机制在浏览器的应用场景下使用起来绰绰有余,足以胜任前端页面的所有需求.
###v8的对象分配
在v8中,所有的js对象都是通过堆进行分配的,node中process.memoryUsage()方法返回三个属性,heapTotal和heapUsed是v8的堆内存使用情况,前者是申请到的堆内存,后者是当前使用的量.  
当我们在代码中声明变量并赋值是,所使用对象的内存就分配在堆中,如果已申请的堆空闲内存不够分配新的对象,将会继续申请堆内存,直到超过限制.  
node在启动是可以传递--max-old-space-size或--max-new-space-size来调整内存限制的大小,如: 

	node --max-old-space-size=1700 test.js // 单位为MB
	// 或者
	node --max-new-space-size=1024 test.js // 单位为KB
上述参数在v8初始化生效,不能动态改变.
##v8的垃圾回收机制
### 1.v8主要的垃圾回收算法
v8的垃圾回收策略主要基于分代式垃圾回收机制. 实际的应用中,对象的生存周期长短不一,按照对象的存活时间将垃圾进行不同的分代,然后分别对不同分代的内存实施高效的算法.  
书签P132


